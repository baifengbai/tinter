---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  fig.width=2, fig.height=1
)
```

# tinter <img src="man/figures/logo.png" align="right" width='15%'/>

[![lifecycle](https://img.shields.io/badge/lifecycle-maturing-blue.svg)](https://www.tidyverse.org/lifecycle/#maturing)
[![Travis build status](https://travis-ci.org/poissonconsulting/tinter.svg?branch=master)](https://travis-ci.org/poissonconsulting/tinter)
 [![AppVeyor build status](https://ci.appveyor.com/api/projects/status/github/poissonconsulting/tinter?branch=master&svg=true)](https://ci.appveyor.com/project/poissonconsulting/tinter)
 [![Coverage status](https://codecov.io/gh/poissonconsulting/tinter/branch/master/graph/badge.svg)](https://codecov.io/github/poissonconsulting/tinter?branch=master)
[![License: MIT](https://img.shields.io/badge/License-MIT-green.svg)](https://opensource.org/licenses/MIT)

`tinter` is a simple package that solves a simple problem. 

From a single colour...

```{r global}
library(tinter)
hex <- "#1381c2"
```

```{r colour, echo = FALSE}
tinter_plot <- function(x){
  grid <- c(length(x), 1)
  width <- 0.9/(max(grid) + 1)
  gap <- 1/(max(grid) + 1)
  centres <- lapply(grid, function(i) gap * ((max(grid) -
                                                i)/2 + seq_len(i)))
  centres <- as.matrix(expand.grid(centres))
  oldPars <- graphics::par(mai = c(0, 0, 0, 0), bg = "white")
  on.exit(graphics::par(oldPars))
  devSize <- grDevices::dev.size()
  devRatio <- devSize[2]/devSize[1]
  graphics::plot(NA, NA, xlim = c(-0.1, 1.1), ylim = 0.5 + c(-1, 1) *
         devRatio * 0.6, xlab = "", ylab = "", xaxt = "n", yaxt = "n",
       bty = "n", asp = 1)
  graphics::rect(centres[, 1] - width/2, rev(centres[, 2]) - width/2,
       centres[, 1] + width/2, rev(centres[, 2]) + width/2,
       col = x, border = "black", lwd = 0.2)
}

tinter_plot(hex)
```

create a monochromatic palette *in both directions*...

```{r}
tinter(hex)
```

```{r tinter, echo=FALSE}
tinter_plot(tinter(hex))
```

or just one direction.

```{r, results="hide"}
tinter(hex, direction = "shades")
```

```{r shades, echo=FALSE}
tinter_plot(tinter(hex, direction = "shades"))

```

```{r, results="hide"}
tinter(hex, direction = "tints")
```

```{r tints, echo=FALSE}
tinter_plot(tinter(hex, direction = "tints"))

```

Adjust number of colours in output.

```{r, results="hide"}
tinter(hex, steps = 10)
```

```{r steps, echo=FALSE}
tinter_plot(tinter(hex, steps = 10))
```

Adjust number of colours cropped from palette extremes.

```{r, results="hide"}
tinter(hex, steps = 10, crop = 7)
```

```{r crop, echo=FALSE}
tinter_plot(tinter(hex, steps = 10, crop = 7))
```

Create palette for a choropleth map.

```{r plot, fig.height = 4, fig.width = 8, message=FALSE, warning=FALSE, results="hide"}
ggplot2::ggplot(data = sf::st_read(system.file(package = "sf", "shape/nc.shp"))) +
  ggplot2::geom_sf(ggplot2::aes(fill = AREA), colour = "black", lwd = 0.01) +
  ggplot2::scale_fill_gradientn(colours = tinter(hex))
```

## Installation

To install the latest development version from [GitHub](https://github.com/poissonconsulting/tinter)
```
install.packages("devtools")
devtools::install_github("poissonconsulting/err")
devtools::install_github("poissonconsulting/checkr")
devtools::install_github("poissonconsulting/tinter")
```

To install the latest development version from the Poisson drat [repository](https://github.com/poissonconsulting/drat)
```
install.packages("drat")
drat::addRepo("poissonconsulting")
install.packages("tinter")
```

## Contribution

Please report any [issues](https://github.com/poissonconsulting/tinter/issues).

[Pull requests](https://github.com/poissonconsulting/tinter/pulls) are always welcome.

Please note that this project is released with a [Contributor Code of Conduct](CONDUCT.md). 
By participating in this project you agree to abide by its terms
